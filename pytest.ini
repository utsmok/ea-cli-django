[pytest]
pythonpath = src
DJANGO_SETTINGS_MODULE = config.settings
python_files = test_*.py
testpaths = src
norecursedirs = ea-cli .git
addopts =
    -ra
    -m "not playwright and not external_api"
    --strict-markers
    --tb=short
    --maxfail=5
    --durations=10
    --timeout=10
    --timeout_method=thread

# Marker definitions (must match those in conftest.py)
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    external_api: marks tests that hit real external APIs (requires network and credentials)
    pipeline: marks end-to-end pipeline tests
    unit: marks fast unit tests
    integration: marks integration tests
    e2e: marks full end-to-end tests
    htmx: marks HTMX-specific tests
    playwright: marks browser UI tests (skipped by default)
